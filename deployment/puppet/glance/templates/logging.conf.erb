[loggers]
keys = root,service

# devel is reserved for future usage
[handlers]
keys = production,file,devel

[formatters]
keys = normal,debug

[logger_root]
level = DEBUG
handlers = production
qualname = glance

[logger_service]
level = DEBUG
handlers = file
qualname = glance

[formatter_debug]
format = glance-%(name)s: %(levelname)s %(module)s %(funcName)s %(message)s

[formatter_normal]
format = glance-%(name)s: %(levelname)s %(message)s

# Extended logging info to LOG_SYSLOG with debug:<%= @debug %> and verbose:<%= @verbose %>
[handler_file]
class = handlers.SysLogHandler
<% if @debug then -%>
level = DEBUG
<% elsif @verbose then -%>
level = INFO
<% else -%>
level = WARNING
<% end -%>
args = ('/dev/log', handlers.SysLogHandler.LOG_SYSLOG)
formatter = debug

# Brief logging info to <%= @syslog_log_facility %> with level <%= @syslog_log_level %>+ 
# or WARNING+ if verbose:false & debug:false. 
# Note: local copy goes to /var/log/glance-all.log
[handler_production]
class = handlers.SysLogHandler
<% if not @debug and not @verbose then -%>
level = WARNING
<% else -%>
level = <%= @syslog_log_level %>
<% end -%>
args = ('/dev/log', handlers.SysLogHandler.LOG_<%= @syslog_log_facility %>)
formatter = normal

# TODO find out how it could be usefull and how it should be used
[handler_devel]
class = StreamHandler
formatter = debug
args = (sys.stdout,)
